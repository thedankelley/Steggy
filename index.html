<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Steggy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="app-header">
  <img src="icons/icon-512.png" class="app-icon">
  <h1>Steggy <span class="jp">ステギー</span></h1>
</header>

<main>

  <label>Mode</label>
  <select id="modeSelect">
    <option value="encrypt">Encrypt Image</option>
    <option value="decrypt">Decrypt Image</option>
    <option value="sstv-encode">SSTV Encode (Image → Audio)</option>
    <option value="sstv-decode">SSTV Decode (Audio → Image)</option>
  </select>

  <!-- Encrypt / Decrypt -->
  <section id="stegSection">
    <input type="file" id="imageInput" accept="image/*">

    <textarea id="payloadInput" placeholder="Protected message"></textarea>

    <button id="advancedToggle">Advanced Options</button>

    <section id="advancedPanel" hidden>
      <label>Encryption Mode</label>
      <select id="cryptoMode">
        <option value="aes">AES-GCM</option>
        <option value="pgp">PGP</option>
        <option value="both">PGP + AES</option>
      </select>

      <section id="pgpPanel" hidden>
        <input id="pgpName" placeholder="Name">
        <input id="pgpEmail" placeholder="Email">
        <input id="pgpPass" placeholder="Passphrase (optional)">
        <button id="pgpGenerate">Generate PGP Keys</button>

        <textarea id="pgpPublic" placeholder="Public Key"></textarea>
        <textarea id="pgpPrivate" placeholder="Private Key"></textarea>

        <button id="pgpEncrypt">Encrypt Payload with Public Key</button>
        <button id="pgpDecrypt">Decrypt Extracted Payload</button>
      </section>
    </section>

    <button id="runSteg">Run</button>
  </section>

  <!-- SSTV Encode -->
  <section id="sstvEncodeSection" hidden>
    <input type="file" id="sstvImageInput" accept="image/*">
    <select id="sstvMode">
      <option value="MARTIN_M1">Martin M1</option>
      <option value="SCOTTIE_S1">Scottie S1</option>
    </select>
    <button id="runSSTVEncode">Generate WAV</button>
    <audio id="sstvAudio" controls></audio>
  </section>

  <!-- SSTV Decode -->
  <section id="sstvDecodeSection" hidden>
    <input type="file" id="sstvWavInput" accept=".wav">
    <select id="sstvDecodeMode">
      <option value="MARTIN_M1">Martin M1</option>
      <option value="SCOTTIE_S1">Scottie S1</option>
    </select>
    <button id="runSSTVDecode">Decode Audio</button>
    <canvas id="sstvCanvas"></canvas>
  </section>

</main>

<script type="module" src="ui/app.js"></script>
</body>
</html>
