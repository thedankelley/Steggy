<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Steggy ステギー</title>
<link rel="stylesheet" href="./ui/styles.css">
</head>
<body>

<header>
  <img src="./icons/icon-512.png" alt="Stegosaurus Icon" id="appIcon">
  <div class="header-text">
    <h1>Steggy</h1>
    <small>ステギー</small>
  </div>
  <button id="guideBtn">Guide</button>
</header>

<main>
  <section id="modeSection">
    <label for="modeSelect">Mode:</label>
    <select id="modeSelect">
      <option value="image-encrypt">Encrypt Image</option>
      <option value="image-decrypt">Decrypt Image</option>
      <option value="sstv-encrypt">Encrypt SSTV</option>
      <option value="sstv-decrypt">Decrypt SSTV</option>
    </select>
  </section>

  <section id="fileSection">
    <label id="fileLabel" for="fileInput">Select Image</label>
    <input type="file" id="fileInput">
  </section>

  <section id="payloadSection">
    <textarea id="payloadText" placeholder="Enter text or leave blank for file payload"></textarea>
  </section>

  <button id="advancedToggle">Advanced Options</button>

  <section id="advancedSection" class="hidden">
    <div>
      <label for="encryptionType">Encryption Type:</label>
      <select id="encryptionType">
        <option value="aes">AES-GCM</option>
        <option value="pgp">PGP</option>
        <option value="both">AES + PGP</option>
      </select>
    </div>

    <div id="pgpOptions" class="hidden">
      <button id="generatePGP">Generate PGP Keys</button>
      <div>
        <label for="publicKey">Public Key</label>
        <textarea id="publicKey" readonly></textarea>
        <button id="downloadPubKey">Download Public Key</button>
      </div>
      <div>
        <label for="privateKey">Private Key</label>
        <textarea id="privateKey" readonly></textarea>
        <button id="downloadPrivKey">Download Private Key</button>
      </div>
      <button id="encryptPGP">Encrypt Payload with PGP</button>
      <button id="decryptPGP">Decrypt PGP Payload</button>
      <input type="file" id="uploadPGPKey" />
    </div>

    <div>
      <input type="checkbox" id="enableDecoy">
      <label for="enableDecoy">Enable Decoy Payload</label>
      <textarea id="decoyText" class="hidden"></textarea>
    </div>

    <div>
      <input type="checkbox" id="enableFragment">
      <label for="enableFragment">Enable Fragmentation</label>
      <div id="fragmentOptions" class="hidden">
        <label for="fragmentCount">Fragments:</label>
        <input type="number" id="fragmentCount" min="2" max="10" value="2">
      </div>
    </div>
  </section>

  <button id="runBtn">Run</button>
</main>

<div id="guideOverlay" class="hidden">
  <div id="guideContent">
    <button id="closeGuide">Close Guide</button>
    <div id="guideText">
      <h2>Steggy Guide</h2>
      <p>All features explained for secure messaging and hidden payloads.</p>
    </div>
  </div>
</div>

<script type="module" src="./ui/app.js"></script>
</body>
</html>
