<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Steggy</title>

  <!-- Mobile / PWA sanity -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#121212" />

  <!-- Icon -->
  <link rel="icon" href="/icons/icon-512.png" />

  <!-- UI styles live in /ui -->
  <link rel="stylesheet" href="/ui/styles.css" />
</head>

<body>
  <!-- HEADER -->
  <header class="app-header">
    <div class="title-block">
      <img
        src="/icons/icon-512.png"
        class="logo"
        alt="Steggy logo"
      />
      <h1>Steggy</h1>
    </div>

    <!-- Guide button -->
    <button
      id="guideBtn"
      class="icon-btn"
      title="Guide"
      aria-label="Open guide"
    >
      ðŸ“˜
    </button>
  </header>

  <!-- GUIDE MODAL -->
  <div id="guideModal" class="modal hidden">
    <div class="modal-content">
      <h2>Steggy Guide</h2>
      <p>
        Steggy hides messages inside images or SSTV signals using encryption,
        fragmentation, and other sneaky stuff.
      </p>
      <button id="closeGuideBtn">Close</button>
    </div>
  </div>

  <!-- MAIN APP -->
  <main class="container">

    <!-- MODE -->
    <section class="card">
      <label for="modeSelect">Mode</label>
      <select id="modeSelect">
        <option value="image-encrypt">Image â†’ Encrypt</option>
        <option value="image-decrypt">Image â†’ Decrypt</option>
        <option value="sstv-encode">SSTV â†’ Encode</option>
        <option value="sstv-decode">SSTV â†’ Decode</option>
      </select>
    </section>

    <!-- FILE INPUT -->
    <section class="card">
      <label id="fileLabel" for="fileInput">Select Image</label>
      <input type="file" id="fileInput" />
    </section>

    <!-- PAYLOAD -->
    <section class="card">
      <label for="payloadInput">Payload</label>
      <textarea
        id="payloadInput"
        placeholder="Your secret message..."
      ></textarea>
    </section>

    <!-- ENCRYPTION -->
    <section class="card">
      <label for="cryptoSelect">Encryption</label>
      <select id="cryptoSelect">
        <option value="aes">AES</option>
        <option value="pgp">PGP</option>
        <option value="both">AES + PGP</option>
      </select>
    </section>

    <!-- PGP OPTIONS -->
    <section id="pgpOptions" class="card hidden">
      <h3>PGP Keys</h3>

      <textarea
        id="pgpPublicKey"
        placeholder="Public key"
      ></textarea>

      <textarea
        id="pgpPrivateKey"
        placeholder="Private key"
      ></textarea>

      <div class="row">
        <button id="generatePgpBtn">Generate Keys</button>
        <button id="downloadPgpBtn">Download Keys</button>
      </div>
    </section>

    <!-- ADVANCED OPTIONS -->
    <section class="card">
      <button id="advancedToggle">Advanced Options</button>

      <div id="advancedOptions" class="hidden">

        <label>
          <input type="checkbox" id="enableFragmentation" />
          Enable Fragmentation
        </label>

        <div id="fragmentationOptions" class="hidden">
          <input
            type="number"
            id="fragmentSize"
            placeholder="Fragment size"
          />
        </div>

        <label>
          <input type="checkbox" id="enableDecoy" />
          Enable Decoy Payload
        </label>

        <textarea
          id="decoyPayload"
          class="hidden"
          placeholder="Decoy payload..."
        ></textarea>
      </div>
    </section>

    <!-- RUN -->
    <section class="card">
      <button id="runBtn" class="primary">Run</button>
    </section>

  </main>

  <!-- IMPORTANT: app.js is in /ui -->
  <script type="module" src="/ui/app.js"></script>
</body>
</html>
